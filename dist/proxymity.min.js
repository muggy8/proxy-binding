var proxymity=function(n){function t(n){return Array.prototype.slice.call(n||[])}function e(n,t){return n&&("number"==typeof(e=n.length)&&!isNaN(e))&&Array.prototype.forEach.call(n,t);var e}function r(n){return"string"==typeof n}function i(n){return Array.isArray(n)}function o(n,t){var e,r,i;return void 0===t||n>t?(r=n,e=t||0):(e=n,r=t),i=r-e,Math.round(Math.random()*(i+.9998)-.4999)+e}var u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_";function c(n){n=n||16;for(var t=u[o(51)],e=1;e<n;e++)t+=u[o(62)];return t}function a(n,t,e){return Object.defineProperty(n,t,{value:e}),e}function f(n,t,e,r){var i={get:e};return r&&(i.set=r),Object.defineProperty(n,t,i)}var l=function(){var n=c(o(32,48)),t=!1,r=[];function i(e){var i=Array.prototype.slice.call(arguments,1);t||(window.postMessage(n,"*"),t=!0),r.some(function(n){return n.fn===e&&(n.args=i,!0)})||r.push({fn:e,args:i})}return window.addEventListener("message",function(u){if(u.data===n){u.stopPropagation();var a=r;n=c(o(32,48)),t=!1,r=[],e(a,function(n){n.args=n.args.map(function(n){return d(n)?n.get():n}),n.fn.apply(window,n.args)}),i.asyncEnd&&(i.asyncEnd(),delete i.asyncEnd,delete i.asyncEndPromise),!t&&i.renderEnd&&(i.renderEnd(),delete i.renderEnd,delete i.renderEndPromise)}}),i}();function s(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function p(t,r,o,u){u=u||function(){};var c,a=this||{},f=[];e(function(n){n=n||"";var t=0,e=[],r=0;function i(){throw new Error("Potential Syntax Error within code: \n"+n)}function o(r,i){void 0===i&&(i=!0);var o=n.substring(t,r);if(!o)return t=r+1;i&&(o='"'+o+'"'),e.push(o),t=r+1}for(var u=0;u<n.length;u++)"."!==n[u]||r?r?r&&("["===n[u]?r++:"]"===n[u]&&r--,r||o(u,!1)):"["===n[u]?(o(u),r++):"]"===n[u]&&i():o(u);return t!==n.length&&o(n.length),r&&i(),e}(r),function(t){f.push(n.call(a,t))});var l="";return e(f,function(n){"length"===n&&i(t)&&(n="len"),"len"===n&&m(t),l+=l?" -> "+n:n;var e=Object.getOwnPropertyDescriptor(t,n);if(void 0===e)console.warn(l+" not defined in data source and is initiated as {}. \n\tOriginal: "+r),c=v(t,n);else if(d(e))c=e;else if(e){var o=t[n];delete t[n],c=v(t,n,o)}t=t[n]}),c.get(function(){var n=Array.prototype.slice.call(arguments);return o.apply(a,n)},function(){var n=Array.prototype.slice.call(arguments);return u.apply(a,n)})}function d(n){return n&&n.get&&2===n.get.length&&n.set&&1===n.set.length}var h=c(23);function v(n,t,e,r){e=e||{},r=r||{};var i,o=new x;return m(e),Object.defineProperty(n,t,i={enumerable:!s(r,"enumerable")||r.enumerable,configurable:!s(r,"configurable")||r.configurable,get:function(n,t){if(n&&t){var r=o.find(function(e){return e.set===n&&e.del===t});return!r&&(r=o.push({set:n,del:t})),n(e,null),r.drop}return e},set:function(r){var i=this;if(void 0===r)delete n[t],o.each(function(n){n.drop(),Function.prototype.call.call(n.del,i)}),y(e);else{if(r!==h){if(r!==e){o.each(function(n){l(n.set,r,e)});var u=e;m(e=r),y(u)}return e}o.each(function(n){n.drop(),Function.prototype.call.call(n.del,i)}),y(e)}}}),i}function y(n){var t;(t=n)&&"object"==typeof t&&(i(n)&&s(n,"len")&&(n.len=h),e(Object.keys(n),function(t){d(Object.getOwnPropertyDescriptor(n,t))&&(n[t]=h)}))}var g={};function m(n){n&&i(n)&&!s(n,"len")&&(v(n,"len",n.length,{enumerable:!1}),e(Object.getOwnPropertyNames(g),function(t){var e=g[t];a(n,t,e)}))}function x(){this.first=null,this.last=null,this.length=0}e(Object.getOwnPropertyNames(Array.prototype),function(n){var t=Array.prototype[n];"function"==typeof t&&(g[n]=function(){var n=Array.prototype.slice.call(arguments),e=t.apply(this,n);return this.len=this.length,e})}),x.prototype={push:function(n){var t=new function(n,t){var e=this;Object.assign(e,n),e.prev=null,e.next=null,e.drop=function(){!function(n,t){var e=!1;if(n.prev&&n.prev.next===n&&(n.prev.next=n.next,e=!0),n.next&&n.next.prev===n&&(n.next.prev=n.prev,e=!0),!(e||1===t.length&&t.first===n&&t.last===n))return;t.first===n&&(t.first=n.next),t.last===n&&(t.last=n.prev),t.length--}(e,t)}}(n,this);return t.prev=this.last,this.last&&(this.last.next=t),this.last=t,!this.first&&(this.first=t),this.length++,t},each:function(n){for(var t=this.first;t;)n(t),t=t.next},find:function(n){for(var t=this.first,e=0,r=null;t&&!r;){var i=n(t,e);e++,i&&(r=t),t=t.next}return r}};var b=document.createElement("template");function O(n,t,r,i){for(var o,u=!1,c=[],a=[],f=[],l=n.length-1;l>-1;l--){var s=!0,p=n[l];if(u&&(s=!1),p instanceof Comment&&0===p.textContent.trim().toLowerCase().indexOf("in:")&&(s=u=!0,o=p),p instanceof Comment&&0===p.textContent.trim().toLowerCase().indexOf("key:")){s=!0,u=!1;var d=function(e,o,u){c.push(w(e,o,u,n,t,r,i))}.bind(null,p,o,f);a.splice(a.length-1,0,d),o=void 0,f=[]}s?a.push(function(n){e(P(n,t,r,i),function(n){c.push(n)})}.bind(null,p)):(n.splice(l,1),p.parentNode&&p.parentNode.removeChild(p),f.unshift(p))}for(l=a.length-1;l>-1;l--)a[l]();return c}function w(r,i,o,u,c,a,f){var l,s=[],d=[],h=r.textContent.trim().slice(4),v=i.textContent.trim().slice(3).trim()+".len",y=n.call(r,h);return function n(){if(l){var t=s.indexOf(l);s.splice(t,1)}s.push(l=p.call(i,c,v,g,n))}(),function(){e(d,function(n){n.unlink()}),e(s,function(n){n()})};function g(n){if(d.length<n){var r=n-d.length;f||(f=function(n,t,e){return function(){}});for(var l=0;l<r;l++){var s=t(o).map(function(n){return n.cloneNode(!0)}),p=[],h=function(n,t,e,r){var i=f(t,e,r);return Object.defineProperty(t,y,{configurable:!0,get:function(){return n}}),function(){i(),delete t[y]}}.bind(null,d.length);e(O(s,c,a,h),function(n){p.push(n)}),j(s,p,c,a),d.push(s),i.parentNode&&e(s,function(n){i.parentNode.insertBefore(n,i)});var v=u.indexOf(i)-1,g=s.slice();g.unshift(0),g.unshift(v),Array.prototype.splice.apply(u,g)}}else if(d.length>n){e(d.splice(n),function(n){n.unlink(),n.detach();for(var t=u.length-1;t>-1;t--)-1!==n.indexOf(u[t])&&u.splice(t,1)})}}}function E(n,t,r){Object.defineProperty(n,r,{configurable:!0,get:function(){return t},set:function(n){var r=Object.keys(t),i=Object.keys(n);e(r,function(n){-1===i.indexOf(n)&&(d(Object.getOwnPropertyDescriptor(t,n))?t[n]=void 0:delete t[n])}),e(i,function(e){t[e]=n[e]})}})}c(o(32,48));function P(n,r,i,o){var u=[];if(E(n,r,i),u.push(function(){delete n[i]}),o){var c=o(n,r,i);u.push(c)}if(n instanceof CharacterData){var a=A(n,n,i);a&&u.push(a)}else{e(t(n.attributes),function(t){var e=A(t,n,i);e&&u.push(e)}),e(O(t(n.childNodes),r,i,o),function(n){u.push(n)})}return u}function j(n,t,e,r){return E(n,e,r),a(n,"appendTo",C),a(n,"detach",N),a(n,"unlink",function(){for(var n=0;n<t.length;n++)t[n]()}),n}function C(n){if(r(n))return C.call(this,document.querySelector(n));var t=n;return e(this,function(n){t.appendChild(n)}),this}function N(){return e(this,function(n){var t=n.parentElement;t&&t.removeChild(n)}),this}function A(t,r,i){var o=[];e(t.textContent.split("{:"),function(n,t){e(n.split(":}"),function(n,e){o.push({text:n,code:!e&&!!t})})}),e(o,function(n,t){if(n.text.length>2&&"|"===n.text[0]&&"{"===n.text[1]){var e=n.text.indexOf("}|"),r=n.text.slice(1,e+1);n.text=n.text.slice(e+2),o[t-1].watching=r.split(",").map(function(n){return n.trim().slice(1,-1)}).filter(function(n){return n})}});var u=[];if(e(o=o.filter(function(n){return n.text||n.code}),function(c){if(c.code)if(c.watching){function a(){c.val=n.call(r,c.text),k(t,o)}e(c.watching,function(n){var t;!function e(){if(t){var o=u.indexOf(t);u.splice(o)}u.push(t=p.call(r,r[i],n.trim(),a,e))}()})}else c.val=n.call(r,c.text);else c.val=c.text}),k(t,o),u.length)return function(){e(u,function(n){n()})}}function k(n,t){var r="";if(e(t,function(n){void 0!==n.val&&(r+=n.val)}),n.textContent=r,n instanceof Attr){var i=n.ownerElement;if("data-"!==n.name.slice(0,5))return;var o=n.name.slice(5);o in i&&(i[o]=r)}}var L=function(n,e,o){return function n(e,o,u){if(r(e))return b.innerHTML=e.trim(),n(b.content.childNodes,o,u);if(e instanceof NodeList||i(e)&&e.reduce(function(n,t){return n&&t instanceof Node},!0)){var c=t(e);return j(c,O(c,o,u),o,u)}return e instanceof Node?j([e],P(e,o,u),o,u):void 0}(n,e=e||{},o=o||"app")},D=function(n){var t=n+"Promise";return l[t]?l[t]:l[t]=new Promise(function(t){l[n]=t})},M=function(n,t){"function"==typeof t&&D(n).then(t)};return a(L,"on",{}),a(L,"watch",p),f(L.on,"asyncend",D.bind(this,"asyncEnd"),M.bind(this,"asyncEnd")),f(L.on,"renderend",D.bind(this,"renderEnd"),M.bind(this,"renderEnd")),a(L,"random",{}),a(L.random,"number",o),a(L.random,"string",c),L}(function(s,sv,t){void 0===t&&(t=!1);try{if(sv)with(sv)return eval(s);return eval(s)}catch(o3o){if(t)throw o3o;return console.error("failed to evaluate expression ["+s+"]",this,o3o),""}});"undefined"!=typeof module&&(module.exports=proxymity);