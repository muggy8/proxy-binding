<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
		<!-- <script src="https://unpkg.com/mobile-inspector"></script> -->
		<!-- <script src="proxy-bind.js"></script> -->
		<script src="proxymity-util.js"></script>
		<script src="subscribable.js"></script>
		<script src="data-proto.js"></script>
		<script src="proxymity-observe.js"></script>
		<script src="proxymity-ui.js"></script>
	</head>
	<body>
		<script>
			// stubbing safeEval for now
			var safeEval = function(s, sv = {}, t = false){
				try {
					with(sv){
						return eval(s)
					}
				}
				catch(o3o){
					if (!t){
						console.error("failed to evaluate expression [" + s + "]", this, o3o)
						return ""
					}
					else {
						throw o3o
					}
				}
			}

			var appendable = proxyUI(`
			<!-- This is a comment with a {:this.app.color.toString():} -->
			<div>
				<label class="block">
					color: <input name="color" />
				</label>
				<label class="block">
					color again: <input name="color" />
				</label>
				<label class="block">
					background-color: <input name="background" />
				</label>
				<label class="block">
					padding: <input name="padding" />
				</label>
				<label class="block">
					border: <input name="border" />
				</label>
				<label class="block">
					font-size: <input name="fontSize" />
				</label>
				<label class="block">
					font-family: <input name="fontFace" />
				</label>
			</div>
			<pre>{:JSON.stringify(this.app, null, "	"):}</pre>
			<style>
				pre {
					background-color: {:this.app.background.toString() || 'initial':};
					color: {:this.app.color.toString() || 'initial':};
					padding: {:this.app.padding.toString() || 'initial':};
					border: {:this.app.border.toString() || 'initial':};
					font-size: {:this.app.fontSize.toString() || 'inherit':};
					font-family: {:this.app.fontFace.toString() || 'sans-serif':}, sans-serif;
				}
				.block {
					display: block
				}
			</style>`, proxify({}), "app")
			events.async("set:")
			console.log(appendable.appendTo("body"))
			console.log(document.querySelector("input").attributes)
		</script>
	</body>
</html>
